[{"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/index.js":"1","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/reportWebVitals.js":"2","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/App.js":"3","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/components/Header.js":"4","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Profile.js":"5","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Home.js":"6","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignUp.js":"7","/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignIn.js":"8","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/index.js":"9","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/App.js":"10","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/reportWebVitals.js":"11","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Profile.js":"12","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignIn.js":"13","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/components/Header.js":"14","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Home.js":"15","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignUp.js":"16","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/context/AuthContext.js":"17","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/routing/PrivateRoute.js":"18"},{"size":589,"mtime":1610984281366,"results":"19","hashOfConfig":"20"},{"size":362,"mtime":1610982739701,"results":"21","hashOfConfig":"20"},{"size":754,"mtime":1610984745768,"results":"22","hashOfConfig":"20"},{"size":497,"mtime":1610984889529,"results":"23","hashOfConfig":"20"},{"size":565,"mtime":1610984232858,"results":"24","hashOfConfig":"20"},{"size":531,"mtime":1610984495984,"results":"25","hashOfConfig":"20"},{"size":1541,"mtime":1610986044522,"results":"26","hashOfConfig":"20"},{"size":1246,"mtime":1610985428766,"results":"27","hashOfConfig":"20"},{"size":709,"mtime":1611073015503,"results":"28","hashOfConfig":"29"},{"size":1064,"mtime":1611086609896,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":1610982739701,"results":"31","hashOfConfig":"29"},{"size":951,"mtime":1611084681309,"results":"32","hashOfConfig":"29"},{"size":3009,"mtime":1611083020136,"results":"33","hashOfConfig":"29"},{"size":1141,"mtime":1611084818307,"results":"34","hashOfConfig":"29"},{"size":863,"mtime":1611073015504,"results":"35","hashOfConfig":"29"},{"size":3367,"mtime":1611082405933,"results":"36","hashOfConfig":"29"},{"size":2359,"mtime":1611083427397,"results":"37","hashOfConfig":"29"},{"size":389,"mtime":1611086028445,"results":"38","hashOfConfig":"29"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"9nujie",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},"wdkioc",{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"57"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"57"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"57"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"57"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/index.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/reportWebVitals.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/App.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/components/Header.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Profile.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/Home.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignUp.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-kent-dodds/src/pages/SignIn.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/index.js",[],["80","81"],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/App.js",["82"],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/reportWebVitals.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Profile.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignIn.js",["83"],"import React, { useState, useContext, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext, useAuthState } from '../context/AuthContext';\nimport { ReactComponent as Spinner } from '../assets/refresh.svg';\n\nfunction SignIn() {\n  // context-functies\n  const { login } = useContext(AuthContext);\n  const { isAuthenticated } = useAuthState();\n\n  // state voor invoervelden (omdat het formulier met Controlled Components werkt!)\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  // state voor gebruikersfeedback\n  const [loading, toggleLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  // react-router dingen\n  const history = useHistory();\n\n  // Deze functie wordt elke keer afgevuurd als isAuthenticated (uit context) veranderd\n  useEffect(() => {\n    // als hij de waarde true heeft, DAN sturen we de gebruiker door!\n    if (isAuthenticated === true) {\n      history.push('/profile');\n    }\n  }, [isAuthenticated]);\n\n  async function onSubmit(event) {\n    toggleLoading(true);\n    setError('');\n    // Als je react-hook-form gebruikt hoeft dit niet, dat gebeurt dan automatisch\n    event.preventDefault();\n\n    try {\n      const response = await axios.post('https://polar-lake-14365.herokuapp.com/api/auth/signin', {\n        username: username,\n        password: password,\n      })\n\n      // We roepen hier de context-functie \"login\" aan. De context gaat dan met de data die we hebben\n      // teruggekregen alles op de juiste manier in localstorage en state zetten!\n      login(response.data);\n    } catch(e) {\n      // Gaat het mis? Log het in de console!\n      console.error(e);\n      setError('Inloggen is mislukt');\n      // Tip: als de gebruikersnaam niet bestaat of wachtwoord is verkeerd, stuurt de backend een 401!\n    }\n    toggleLoading(false);\n  }\n\n  return (\n    <>\n      <h1>Inloggen</h1>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab alias cum debitis dolor dolore fuga id molestias qui quo unde?</p>\n\n      <form onSubmit={onSubmit}>\n        <label htmlFor=\"username-field\">\n          Gebruikersnaam:\n          <input\n            type=\"text\"\n            id=\"username-field\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"password-field\">\n          Wachtwoord:\n          <input\n            type=\"password\"\n            id=\"password-field\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)} />\n        </label>\n        <button\n          type=\"submit\"\n          className=\"form-button\"\n          disabled={loading}\n        >\n          {loading ? <Spinner className=\"loading-icon\" /> : 'Maak account aan'}\n        </button>\n        {error && <p>{error}</p>}\n      </form>\n      <p>Heb je nog geen account? <Link to=\"/signup\">Registreer</Link> je dan eerst.</p>\n    </>\n  );\n}\n\nexport default SignIn;","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/components/Header.js",["84"],"import React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { AuthContext, useAuthState } from '../context/AuthContext';\n\nfunction Header() {\n  const history = useHistory();\n\n  // context dingen\n  const { isAuthenticated } = useAuthState();\n  const { logout } = useContext(AuthContext);\n\n  // useEffect(() => {\n  //   if (isAuthenticated === false) {\n  //     history.push('/signin');\n  //   }\n  // }, [isAuthenticated]);\n\n  return (\n    <header>\n      <div>\n        {isAuthenticated ? (\n          <button\n            type=\"button\"\n            // Roep hier de logout functie uit de context aan!\n            onClick={() => logout()}\n          >\n            Log uit\n          </button>\n        ) : (\n          <>\n          <button\n            type=\"button\"\n            onClick={() => history.push('/signin')}\n          >\n            Log in\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => history.push('/signup')}\n          >\n            Registreren\n          </button>\n          </>\n        )}\n      </div>\n    </header>\n  );\n};\n\nexport default Header;","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/Home.js",["85","86"],"import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext, useAuthState } from '../context/AuthContext';\n\nfunction Home() {\n  const { isAuthenticated } = useAuthState();\n  console.log(isAuthenticated);\n\n  // const authState = useContext(AuthContext);\n  // const isAuthenticated = authState.user !== null && authState.status === 'done';\n  // console.log(isAuthenticated);\n\n  return (\n    <>\n      <h1>Homepagina</h1>\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab alias cum debitis dolor dolore fuga id molestias qui quo unde?</p>\n      <p>Als je ingelogd bent, bekijk dan de <Link to=\"/profile\">Profielpagina</Link></p>\n      <p>Je kunt ook <Link to=\"/signin\">inloggen</Link> of jezelf <Link to=\"/signup\">registeren</Link> als je nog geen account hebt.</p>\n    </>\n  );\n}\n\nexport default Home;","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/pages/SignUp.js",[],"/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/context/AuthContext.js",["87"],"import React, { createContext, useContext, useEffect, useState } from 'react';\n\nconst AuthContext = createContext({});\n\nfunction AuthContextProvider({ children }) {\n  const [authState, setAuthState] = useState({\n    status: 'pending',\n    error: null,\n    user: null,\n  })\n\n  useEffect(() => {\n    // haal uit de local storage de JWT Token\n    // Als die er niet is, kunnen we gewoon verder\n    // Als die token er wel is, dan betekend dat dat de applicatie herstart is\n    // En dan willen we nog even onze gebruikersdata (username, etc.) ophalen.\n\n    setTimeout(() => {\n      // er is geen token, dus we beginnen met een schone lei!\n      setAuthState({\n        ...authState,\n        status: 'done',\n      })\n    }, 2000)\n  }, []);\n\n  function login(data) {\n    // 1. de token willen we in de local storage zetten\n    localStorage.setItem('token', data.accessToken);\n\n    // 2. de user-informatie willen we in de context zetten\n    setAuthState({\n      ...authState,\n      user: {\n        username: data.username,\n        email: data.email,\n        roles: data.roles,\n      }\n    })\n\n    // 3. als dat allemaal gelukt is, willen we doorgelinkt worden naar de profielpagina!\n    // Dit doen we in het component dat deze functie aanroept, zelf!\n  }\n\n  function logout() {\n    // 1. Maak local storage leeg\n    localStorage.clear();\n    // 2. Haal de user uit de context-state\n    setAuthState({\n      ...authState,\n      user: null,\n    })\n  }\n\n  // als je hem helemaal uit zou schrijven en als variabele mee zou geven aan AuthContext.Provider:\n  // const providerData = {\n  //   ...authState,\n  //   login: login,\n  //   logout: logout,\n  // };\n\n  return (\n    <AuthContext.Provider value={{ ...authState, login, logout }}>\n      {authState.status === 'done' && children}\n      {authState.status === 'pending' && <p>Loading...</p>}\n    </AuthContext.Provider>\n  );\n}\n\nfunction useAuthState() {\n  const authState = useContext(AuthContext);\n\n  // iemand is geauthoriseerd wanneer de status === 'done'\n  // en als er een gebruiker in de authState staat\n  const isDone = authState.status === 'done';\n  const isAuthenticated = authState.user !== null && isDone;\n\n  // console.log('Ik ben authenticated:', isAuthenticated);\n\n  return {\n    ...authState,\n    isAuthenticated: isAuthenticated,\n  }\n}\n\nexport {\n  AuthContext,\n  useAuthState,\n  AuthContextProvider,\n}","/Users/novaeeken/WebstormProjects/frontend-react-authentication-bootcamp-demo/src/routing/PrivateRoute.js",[],{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","replacedBy":"91"},{"ruleId":"92","severity":1,"message":"93","line":2,"column":25,"nodeType":"94","messageId":"95","endLine":2,"endColumn":33},{"ruleId":"96","severity":1,"message":"97","line":29,"column":6,"nodeType":"98","endLine":29,"endColumn":23,"suggestions":"99"},{"ruleId":"92","severity":1,"message":"100","line":1,"column":29,"nodeType":"94","messageId":"95","endLine":1,"endColumn":38},{"ruleId":"92","severity":1,"message":"101","line":1,"column":17,"nodeType":"94","messageId":"95","endLine":1,"endColumn":27},{"ruleId":"92","severity":1,"message":"102","line":3,"column":10,"nodeType":"94","messageId":"95","endLine":3,"endColumn":21},{"ruleId":"96","severity":1,"message":"103","line":25,"column":6,"nodeType":"98","endLine":25,"endColumn":8,"suggestions":"104"},"no-native-reassign",["105"],"no-negated-in-lhs",["106"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["107"],"'useEffect' is defined but never used.","'useContext' is defined but never used.","'AuthContext' is defined but never used.","React Hook useEffect has a missing dependency: 'authState'. Either include it or remove the dependency array. You can also do a functional update 'setAuthState(a => ...)' if you only need 'authState' in the 'setAuthState' call.",["108"],"no-global-assign","no-unsafe-negation",{"desc":"109","fix":"110"},{"desc":"111","fix":"112"},"Update the dependencies array to be: [history, isAuthenticated]",{"range":"113","text":"114"},"Update the dependencies array to be: [authState]",{"range":"115","text":"116"},[1040,1057],"[history, isAuthenticated]",[730,732],"[authState]"]